{% load static %}
<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}AkkaUi{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'core/wiki.css' %}">
    <link rel="stylesheet" href="{% static 'core/ui-enhancements.css' %}">
    
    <!-- HTMX para interações dinâmicas sem JavaScript complexo -->
    <script src="https://unpkg.com/htmx.org@1.9.10" 
            integrity="sha384-D1Kt99CQMDuVetoL1lrYwg5t+9QdHe7NLX/SoJYkXDFfX37iInKRy5xLSi8nO7UC" 
            crossorigin="anonymous"></script>
    
    <!-- Alpine.js para reatividade leve (modais, toggles) -->
    <script defer src="https://unpkg.com/alpinejs@3.13.5/dist/cdn.min.js" 
            integrity="sha384-Uz679UqE3+L2WCGSYkh+Y2KnGFN7aRRLJMWc9lL3QYAKrVEkbydCPvFODHOcbH1M" 
            crossorigin="anonymous"></script>
    
    {% block extra_head %}{% endblock %}
  </head>
  <body>
    <header class="site-header">
      <div class="container">
        <a href="{% url 'core:home' %}" class="brand">
          <span>⚡</span> AkkaUi
        </a>
        <button class="menu-toggle" onclick="toggleMenu()">☰</button>
        <nav class="main-nav" id="mainNav">
          <a href="{% url 'core:home' %}" {% if request.path == '/' %}class="active"{% endif %}>Home</a>
          <a href="{% url 'core:explore' %}" {% if 'explore' in request.path %}class="active"{% endif %}>Explorar</a>
          <a href="{% url 'core:pricing' %}" {% if 'pricing' in request.path %}class="active"{% endif %}>Pricing</a>
          <a href="{% url 'core:faq' %}" {% if 'faq' in request.path %}class="active"{% endif %}>FAQ</a>
          {% if user.is_authenticated and user.admin %}
            <a href="{% url 'core:admin_svg' %}" {% if 'manage/svg' in request.path %}class="active"{% endif %}>Gerenciar SVG</a>
          {% endif %}
          {% if user.is_authenticated %}
            <a href="{% url 'usuario:profile' %}" class="mobile-only">Perfil</a>
            <a href="{% url 'usuario:signout' %}" class="mobile-only">Sair</a>
          {% else %}
            <a href="{% url 'usuario:signin' %}" class="mobile-only">Entrar</a>
            <a href="{% url 'usuario:signup' %}" class="mobile-only">Criar Conta</a>
          {% endif %}
        </nav>
        <div class="auth-buttons">
          {% if user.is_authenticated %}
            <a href="{% url 'usuario:profile' %}" class="btn btn-secondary">{{ user.username }}</a>
            <a href="{% url 'usuario:signout' %}" class="btn btn-outline">Sair</a>
          {% else %}
            <a href="{% url 'usuario:signin' %}" class="btn btn-outline">Entrar</a>
            <a href="{% url 'usuario:signup' %}" class="btn btn-primary">Criar Conta</a>
          {% endif %}
        </div>
        <div class="search">
          <form action="{% url 'core:explore' %}" method="get">
            <input name="q" type="search" placeholder="Pesquisar..." aria-label="Pesquisar componentes">
          </form>
        </div>
      </div>
    </header>

    <main class="container">
      {% block sidebar %}
      {% endblock %}

      <section class="content">
        {% block content %}
        <!-- Conteúdo da página -->
        {% endblock %}
      </section>
    </main>

    <footer class="site-footer">
      <div class="container">
        <div class="footer-brand">
          <a href="{% url 'core:home' %}" class="brand">
            <span>⚡</span> AkkaUi
          </a>
          <p>Seu catálogo completo de recursos de design UI modernos e responsivos.</p>
        </div>
        <div class="footer-section">
          <h4>Produto</h4>
          <ul>
            <li><a href="{% url 'core:explore' %}">Explorar</a></li>
            <li><a href="{% url 'core:pricing' %}">Pricing</a></li>
            <li><a href="{% url 'core:faq' %}">FAQ</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Recursos</h4>
          <ul>
            <li><a href="#">Documentação</a></li>
            <li><a href="#">Tutoriais</a></li>
            <li><a href="#">Blog</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Empresa</h4>
          <ul>
            <li><a href="#">Sobre</a></li>
            <li><a href="#">Contato</a></li>
            <li><a href="#">Termos</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>© {{ year|default:2025 }} AkkaUi. Todos os direitos reservados.</p>
      </div>
    </footer>

    <script>
      function toggleMenu() {
        const nav = document.getElementById('mainNav');
        nav.classList.toggle('active');
      }

      // Close menu when clicking outside
      document.addEventListener('click', function(event) {
        const nav = document.getElementById('mainNav');
        const toggle = document.querySelector('.menu-toggle');
        if (!nav.contains(event.target) && !toggle.contains(event.target)) {
          nav.classList.remove('active');
        }
      });
    </script>
    
    {% block extra_js %}{% endblock %}
  </body>
</html>
